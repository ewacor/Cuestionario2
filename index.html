
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cuestionario Interactivo</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="container py-4">
  <h2 class="mb-4 text-center">Cuestionario</h2>
  <form id="cuestionarioForm">
    <div class="mb-3">
      <label for="nombre" class="form-label">Nombre del estudiante:</label>
      <input type="text" class="form-control" id="nombre" required>
    </div>
    <div class="mb-3">
      <label class="form-label">1. ¿Cuál es tu color favorito?</label>
      <input type="text" class="form-control" id="respuesta1">
    </div>
    <div class="mb-3">
      <label class="form-label">2. ¿Qué deporte practicas?</label>
      <input type="text" class="form-control" id="respuesta2">
    </div>
    <div class="mb-3">
      <label class="form-label">3. ¿Cuál es tu comida preferida?</label>
      <input type="text" class="form-control" id="respuesta3">
    </div>
    <button type="submit" class="btn btn-primary w-100">Enviar y generar PDF</button>
  </form>

  <div class="mt-4 text-center" id="whatsappSection" style="display:none;">
    <a id="whatsappLink" class="btn btn-success" target="_blank">Enviar por WhatsApp</a>
  </div>

  <script>
    document.getElementById("cuestionarioForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const nombre = document.getElementById("nombre").value;
      const r1 = document.getElementById("respuesta1").value;
      const r2 = document.getElementById("respuesta2").value;
      const r3 = document.getElementById("respuesta3").value;

      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      doc.setFontSize(14);
      doc.text(`Cuestionario - Estudiante: ${nombre}`, 10, 20);
      doc.text(`1. ¿Cuál es tu color favorito?`, 10, 40);
      doc.text(`Respuesta: ${r1}`, 10, 50);
      doc.text(`2. ¿Qué deporte practicas?`, 10, 70);
      doc.text(`Respuesta: ${r2}`, 10, 80);
      doc.text(`3. ¿Cuál es tu comida preferida?`, 10, 100);
      doc.text(`Respuesta: ${r3}`, 10, 110);

      doc.save(`Cuestionario_${nombre}.pdf`);

      const mensaje = encodeURIComponent(`Hola, aquí están mis respuestas al cuestionario:
Nombre: ${nombre}
1. ${r1}
2. ${r2}
3. ${r3}`);
      const whatsappURL = `https://wa.me/?text=${mensaje}`;
      document.getElementById("whatsappLink").href = whatsappURL;
      document.getElementById("whatsappSection").style.display = "block";
    });
  </script>
</body>
</html>
